{"version":3,"sources":["../../src/routes/index.js"],"names":["router","use","config","db","v1Base"],"mappings":";;;;;;AAOA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAZA;AACA;AACA;AACA;AACA;AACA;;AASA,IAAIA,SAAS,wBAAb;;AAEA;AACA,kBAAa,cAAM;AACf;AACAA,WAAOC,GAAP,CAAW,0BAAW,EAACC,wBAAD,EAASC,MAAT,EAAX,CAAX;;AAEA;AACA,QAAIC,SAAS,KAAb;;AAEAJ,WAAOC,GAAP,CAAcG,MAAd,cAA+B,sBAAiB,EAACF,wBAAD,EAASC,MAAT,EAAjB,CAA/B;AACAH,WAAOC,GAAP,CAAcG,MAAd,YAA6B,oBAAe,EAACF,wBAAD,EAASC,MAAT,EAAf,CAA7B;AAGH,CAXD;;kBAaeH,M","file":"index.js","sourcesContent":["////////////////////////////////////////\n// ADFSUserMappingAPI\n//\n// Copyright (c) 2017 Jonathan Hardison\n// /routes/index.js\n////////////////////////////////////////\n\nimport express from 'express';\nimport config from '../config';\nimport middleware from '../middleware';\nimport initializeDB from '../db';\nimport statusController from '../controllers/status';\nimport userController from '../controllers/user';\n\nlet router = express();\n\n// wrapped db connection //\ninitializeDB(db => {\n    // middleware //\n    router.use(middleware({config, db}));\n\n    // v1 //\n    var v1Base = \"/v1\";\n    \n    router.use(`${v1Base}/status`, statusController({config, db}));\n    router.use(`${v1Base}/user`, userController({config, db}));\n    \n    \n});\n\nexport default router;"]}